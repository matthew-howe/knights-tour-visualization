(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{148:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(6),i=n.n(o),s=(n(87),n(88),n(29)),c=n.n(s),u=n(55),l=n(71),p=n(72),d=n(80),h=n(73),m=n(81),v=n(36),b={knight:[0,0],board:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],iterations:0},f=(n(147),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).state={iter:0,speed:100},e}return Object(m.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){this.setState({speed:e.target.value})}},{key:"findMoves",value:function(e){return[[e[0]-1,e[1]-2],[e[0]-2,e[1]-1],[e[0]+1,e[1]-2],[e[0]+2,e[1]-1],[e[0]-2,e[1]+1],[e[0]-1,e[1]+2],[e[0]+1,e[1]+2],[e[0]+2,e[1]+1]].filter(function(e){return e[0]>=0&&e[1]>=0&&e[0]<8&&e[1]<8})}},{key:"validMove",value:function(e,t){return 1!==e[t[0]][t[1]]}},{key:"boardVisited",value:function(e){return 63===e.length}},{key:"shuffle",value:function(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t;return e}},{key:"tour",value:function(){var e=Object(u.a)(c.a.mark(function e(t,n,r,a){var o=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState(function(e){return e.iter++,{iter:e.iter++}}),!(this.state.iter<2e3)){e.next=4;break}return e.next=4,setTimeout(Object(u.a)(c.a.mark(function e(){var i,s,u,l,p,d,h,m,v,b;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=t)[0][0]=1,!o.boardVisited(n)){e.next=4;break}return e.abrupt("return",!0);case 4:s=n[n.length-1],u=n[n.length-2],l=n[n.length-3],p=n[n.length-4],d=o.findMoves(s),d=o.shuffle(d),h=0;case 11:if(!(h<d.length)){e.next=29;break}if(m=d[h],!o.validMove(i,m)){e.next=26;break}if(n.push(m),v=m[0],b=m[1],i[v][b]=1,o.props.moveKnight(m),o.props.updateBoard(i),!o.tour(i,n,r,a)){e.next=22;break}return e.abrupt("return",!0);case 22:n.pop(),i[m[0]][m[1]]=0,o.props.moveKnight(n[n.length-1]),o.props.updateBoard(i);case 26:h++,e.next=11;break;case 29:i[s[0]][s[1]]=0,i[u[0]][u[1]]=0,i[l[0]][l[1]]=0,i[p[0]][p[1]]=0,n.pop(),n.pop(),n.pop(),n.pop(),o.props.moveKnight(n[n.length-2]),o.props.updateBoard(i),o.tour(i,n,r,a);case 40:case"end":return e.stop()}},e)})),this.state.speed);case 4:case"end":return e.stop()}},e,this)}));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"renderSquare",value:function(e){var t,n,r=e%8,o=Math.floor(e/8),i=(r+o)%2===1;return this.props.knight&&(t=this.props.knight[0]===r&&this.props.knight[1]===o),this.props.board&&(n=1===this.props.board[o][r]),t?i?a.a.createElement("div",{key:e,className:"black square knight"}):a.a.createElement("div",{key:e,className:"white square knight"}):i?n?a.a.createElement("div",{key:e,className:"black square visited"}):a.a.createElement("div",{key:e,className:"black square"}):n?a.a.createElement("div",{key:e,className:"white square visited"}):a.a.createElement("div",{key:e,className:"white square"})}},{key:"render",value:function(){for(var e=this,t=[],n=0;n<64;n++)t.push(this.renderSquare(n));return a.a.createElement("div",{id:"main"},a.a.createElement("div",{id:"board"},t),a.a.createElement("div",{id:"buttons"},a.a.createElement("button",{onClick:function(){return e.tour(e.props.board,[[0,0]],e.props.updateBoard,e.props.moveKnight)},id:"b4"},"Brute Force Permutations"),a.a.createElement("button",{onClick:function(){return e.tour(e.props.board,[[0,0]],e.props.updateBoard,e.props.moveKnight)},id:"b4"},"Warnsdorf's Algorithm"),a.a.createElement("div",null),a.a.createElement("p",null,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0\xa0\xa0 Iterations:"," ",this.state.iter),a.a.createElement("p",null,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0\xa0\xa0 Speed:"," ",this.state.speed," ms"),a.a.createElement("input",{name:"speed",onChange:function(t){e.handleChange(t)},type:"range",min:"10",max:"500",value:this.state.speed,className:"slider"})))}}]),t}(r.Component)),g=Object(v.b)(function(e){return{board:e.board.board,knight:e.board.knight,iterations:e.board.iterations}},function(e){return{moveKnight:function(t){return e(function(e){return{type:"MOVE_KNIGHT",knight:e}}(t))},updateBoard:function(t){return e({type:"UPDATE_BOARD",board:t})}}})(f);var k=function(){return a.a.createElement("div",{className:"app"},a.a.createElement("div",{id:"title"},a.a.createElement("h1",null,"Knight's Tour"),a.a.createElement("p",null,"By Matthew Howe")),a.a.createElement("div",null,a.a.createElement(g,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=n(20),w=n(78),y=n(79),O={script:null,speed:125,temp:null},j=Object(E.combineReducers)({board:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVE_KNIGHT":return Object.assign({},e,{knight:[t.knight[1],t.knight[0]]});case"UPDATE_BOARD":return Object.assign({},e,{board:t.board});case"FAILURE":alert("Failed to converge on a correct solution. Try again.");break;case"RUN_SCRIPT":return b;default:return console.log("Switch function error in board store"),b}},algorithm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RUN_SCRIPT":return Object.assign({},e,{script:t.script});case"CHANGE_SPEED":case"MODULATE_SPEED":return Object.assign({},e,{speed:t.newSpeed});case"UPDATE_TEMP":return Object.assign({},e,{temp:t.newTemp});default:return O}}}),T=Object(y.composeWithDevTools)(Object(E.applyMiddleware)(Object(w.createLogger)({collapsed:!0}))),M=Object(E.createStore)(j,T);i.a.render(a.a.createElement(v.a,{store:M},a.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},82:function(e,t,n){e.exports=n(148)},87:function(e,t,n){},88:function(e,t,n){}},[[82,1,2]]]);
//# sourceMappingURL=main.057c59e3.chunk.js.map