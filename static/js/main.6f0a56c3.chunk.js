(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,n){"use strict";(function(e){var r=n(7),a=n(8),o=[],i=null,u=null,s=null,c=new(function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"getQueue",value:function(){return o}},{key:"enqueue",value:function(e){o.push(e)}},{key:"processQueue",value:function(){var t=o.shift();t&&e(t)}},{key:"initInterval",value:function(e){i=setInterval(this.processQueue,e),this.eraseTicker()}},{key:"eraseTicker",value:function(){u=null,clearInterval(s),s=null}},{key:"startQueueing",value:function(e){this.initInterval(e),this.processQueue()}},{key:"clearQueueInterval",value:function(){clearInterval(i),i=null}},{key:"clear",value:function(){this.clearQueueInterval(),o=[]}},{key:"modulateSpeed",value:function(e){u=u||Date.now(),clearInterval(s),this.initTickInterval(e)}},{key:"initTickInterval",value:function(e){s=setInterval(this.tick.bind(null,e),1)}},{key:"tick",value:function(e){Date.now();u=Date.now(),this.processQueue()}},{key:"changeSpeed",value:function(e){this.clearQueueInterval(),this.eraseTicker(),this.initInterval(e)}}]),t}());t.a=c}).call(this,n(37).setImmediate)},26:function(e,t,n){e.exports=n(40)},31:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(13),i=n.n(o),u=(n(31),n(7)),s=n(8),c=n(24),l=n(19),d=n(9),v=n(25),p=n(14),h=n(23),f=n(10),b=n(2),m=n.n(b),k=n(5),g=new(function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"findMoves",value:function(e){return[[e[0]-1,e[1]-2],[e[0]-2,e[1]-1],[e[0]+1,e[1]-2],[e[0]+2,e[1]-1],[e[0]-2,e[1]+1],[e[0]-1,e[1]+2],[e[0]+1,e[1]+2],[e[0]+2,e[1]+1]].filter(function(e){return e[0]>=0&&e[1]>=0&&e[0]<12&&e[1]<12})}},{key:"validMove",value:function(e,t){return 1!==e[t[0]][t[1]]}},{key:"boardVisited",value:function(e){return 143===e.length}},{key:"boardVisitedWarnsdorf",value:function(e){return 143===e.length}},{key:"shuffle",value:function(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t;return e}},{key:"numOfEmpty",value:function(e,t){var n=0,r=this.findMoves(t),a=!0,o=!1,i=void 0;try{for(var u,s=r[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var c=u.value;this.validMove(e,c)&&n++}}catch(l){o=!0,i=l}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}return n}},{key:"mapNumToCoords",value:function(e){return[e%12,Math.floor(e/12)]}}]),e}()),y=function(){var e=Object(k.a)(m.a.mark(function e(t,n,r,a,o,i,u){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(Object(k.a)(m.a.mark(function e(){var u,s,c,l,d,v,p;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i(),(u=t)[0][0]=1,!g.boardVisited(n)){e.next=5;break}return e.abrupt("return",!0);case 5:s=n[n.length-1],c=g.findMoves(s),c=g.shuffle(c),l=0;case 9:if(!(l<c.length)){e.next=23;break}if(d=c[l],!g.validMove(u,d)){e.next=20;break}if(n.push(d),v=d[0],p=d[1],u[v][p]=1,a(d),r(u),!y(u,n,r,a,o,i)){e.next=20;break}return e.abrupt("return",!0);case 20:l++,e.next=9;break;case 23:console.log("ended","last move: ",n[n.length-1]);case 24:case"end":return e.stop()}},e)})),10);case 1:case"end":return e.stop()}},e)}));return function(t,n,r,a,o,i,u){return e.apply(this,arguments)}}(),E=y,O=n(1),w=function(){var e=Object(k.a)(m.a.mark(function e(t,n,r,a,o,i){var u,s,c,l,d,v,p,h,f,b,k,y,E,M;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=t,!(O.a.length>143)){e.next=4;break}return console.log("board toured"),e.abrupt("return",!0);case 4:if(!g.boardVisitedWarnsdorf(n)){e.next=7;break}return console.log("board toured"),e.abrupt("return",!0);case 7:for(s=n[n.length-1],0===u[s[0]][s[1]]&&(u[s[0]][s[1]]=1),console.log("lastMove: ",s),c=g.findMoves(s),d=1/0,v=!0,p=!1,h=void 0,e.prev=15,f=c[Symbol.iterator]();!(v=(b=f.next()).done);v=!0)k=b.value,(y=g.numOfEmpty(u,k))<d&&g.validMove(u,k)&&(d=y,l=k);e.next=23;break;case 19:e.prev=19,e.t0=e.catch(15),p=!0,h=e.t0;case 23:e.prev=23,e.prev=24,v||null==f.return||f.return();case 26:if(e.prev=26,!p){e.next=29;break}throw h;case 29:return e.finish(26);case 30:return e.finish(23);case 31:if(l){e.next=33;break}return e.abrupt("return");case 33:if(void 0===l[0]||void 0===l[1]){e.next=46;break}if(E=l[0],M=l[1],O.a.enqueue(function(){o(l),a(l),r(u),i()}),u[E][M]=1,n.push(l),!w(u,n,r,a,o,i)){e.next=43;break}return e.abrupt("return",!0);case 43:return e.abrupt("return",!1);case 44:e.next=48;break;case 46:return alert("failed to converge on correct solution!"),e.abrupt("return",!1);case 48:case"end":return e.stop()}},e,null,[[15,19,23,31],[24,,26,30]])}));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}(),M=w,j=n(12);function x(e,t,n,r){var a,o,i=[3,7,6,2,7,3,2,6],u=[4,3,7,4,0,7,3,0],s=[[-2,-1],[-1,-2],[1,-2],[2,-1],[2,1],[1,2],[-1,2],[-2,1]];var c=function(e,t){var n=function(e,t){var n=function(e,t){var n,r,a=12,o=12,i=e,u=t,s=8;do{var c=a/2,l=c%2,d=c-l,v=c+l;i<d?(a=d,n=1):(a=v,i-=v,n=2),v=(c=o/2)+(l=c%2),u<(d=c-l)?(o=d,r=1):(o=v,u-=d,r=2),s=1===n&&1===r&&i===a-3&&u===o-1?0:1===n&&1===r&&i===a-1&&u===o-2?1:2===n&&1===r&&1===i&&u===o-3?2:2===n&&1===r&&0===i&&u===o-1?3:2===n&&2===r&&2===i&&0===u?4:2===n&&2===r&&0===i&&1===u?5:1===n&&2===r&&i===a-2&&2===u?6:1===n&&2===r&&i===a-1&&0===u?7:s}while(!(a<=12&&o<=12&&(a<12||o<12)));return[a,o,i,u,s]}(e,t),r=Object(j.a)(n,5),a=r[0],o=r[1],s=r[2],c=r[3],l=r[4],d=a<o;if(d){var v=a;a=o,o=v,v=s,s=c,c=v}var p=[[[4,5],[5,6],[4,7],[4,7],[5,7],[6,7]],[[3,4],[3,6],[0,3],[3,5],[0,6],[0,7]],[[2,5],[1,4],[0,1],[3,4],[2,5],[1,6]],[[2,5],[5,6],[4,7],[0,2],[1,5],[0,6]],[[3,4],[1,4],[4,7],[4,7],[0,2],[1,7]],[[2,3],[1,3],[1,0],[3,0],[0,2],[0,1]]][c][s],h=p[0],f=p[1];if(d&&(h=(9-h)%8,f=(9-f)%8),8!==l){var b=i[l],m=u[l];h===b?h=m:f===b?f=m:console.log("pathOrigin must always be one of next_a_offsetType and next_b_offset")}return[a,o,s,c,l,p,h,f]}(e,t),r=Object(j.a)(n,8),a=(r[0],r[1],r[2],r[3],r[4],r[5],r[6]),o=r[7],c=s[a],l=s[o];return[l,e+c[0],t+c[1],e+l[0],t+l[1]]}(e,t),l=Object(j.a)(c,5),d=(l[0],l[1]),v=l[2],p=l[3],h=l[4];return d===n&&v===r?(a=p,o=h):p===n&&h===r?(a=d,o=v):console.log("Neither of the next pointers match the lastXY (getNextPoint"),console.log("\n","lastX: ",n,"lastY: ",r,"\n"),console.log("\n","nextX: ",a,"nextY: ",o,"\n"),[a,o]}var T,I=function(){var e=Object(k.a)(m.a.mark(function e(t,n,r,a,o,i,u,s){var c,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(O.a.length>143)){e.next=3;break}return console.log("board conquered"),e.abrupt("return");case 3:if(1!==n[0]||0!==n[1]){e.next=6;break}return console.log("board conquered"),e.abrupt("return");case 6:if((c=t)[n[0]][n[1]]=1,l=x(n[0],n[1],r[0],r[1]),0===c[r[0]][r[1]]&&(c[r[0]][r[1]]=1),O.a.enqueue(function(){s(),o(l),a(c)}),c[l[0]][l[1]]=1,!I(c,l,n,a,o,i,u,s)){e.next=16;break}return e.abrupt("return",!0);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}},e)}));return function(t,n,r,a,o,i,u,s){return e.apply(this,arguments)}}(),S=I,N=(T={knight:[0,0],lastMove:[0,0],moves:[[0,0]],curMove:[0,2]},Object(f.a)(T,"lastMove",[1,0]),Object(f.a)(T,"board",[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]]),Object(f.a)(T,"iterations",0),Object(f.a)(T,"timeout",{}),Object(f.a)(T,"speed",80),T),C=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(c.a)(this,Object(l.a)(t).call(this))).state={speed:80,start:[[0,0]],curMove:[2,0],lastMove:[0,1]},e.backtrack=E.bind(Object(d.a)(e)),e.warnsdorf=M.bind(Object(d.a)(e)),e.divideandconquer=S.bind(Object(d.a)(e)),e}return Object(v.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){O.a.clearQueueInterval(),O.a.modulateSpeed(e.target.value),this.props.changeSpeed(e.target.value),this.setState({speed:e.target.value}),O.a.changeSpeed(e.target.value)}},{key:"run",value:function(e){O.a.clear();this.props.updateCurmove([0,2]),this.props.updateLastmove([1,0]),this.props.updateBoard([[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]]),this.props.moveKnight([0,0]),console.log(this.props.iterate),console.log(this.props.addMove),"warnsdorf"===e?M(this.props.board,this.props.moves,this.props.updateBoard,this.props.moveKnight,this.props.addMove,this.props.iterate):S(this.props.board,this.props.curMove,this.props.lastMove,this.props.updateBoard,this.props.moveKnight,this.props.updateCurmove,this.props.updateLastmove,this.props.iterate),O.a.startQueueing(this.props.speed)}},{key:"renderSquare",value:function(e){var t,n,r=e%12,o=Math.floor(e/12),i=(r+o)%2===1;return this.props.knight&&(t=this.props.knight[0]===r&&this.props.knight[1]===o),this.props.board&&(n=1===this.props.board[o][r]),t?i?a.a.createElement("div",{key:e,className:"black square knight"}):a.a.createElement("div",{key:e,className:"white square knight"}):i?n?a.a.createElement("div",{key:e,className:"black square "}):a.a.createElement("div",{key:e,className:"black square"}):n?a.a.createElement("div",{key:e,className:"white square "}):a.a.createElement("div",{key:e,className:"white square"})}},{key:"render",value:function(){for(var e=this,t=[],n=0;n<144;n++)t.push(this.renderSquare(n));return a.a.createElement("div",{id:"main"},a.a.createElement("div",{id:"img"}),a.a.createElement("div",{className:"middle"},a.a.createElement("div",{id:"title"},a.a.createElement("h1",null,"Knight's Tour"),a.a.createElement("p",null,"By ",a.a.createElement("a",{href:"http://matthw.com"},"Matthew Howe"))),a.a.createElement("div",{id:"board"},t)),a.a.createElement("div",{id:"buttons"},a.a.createElement("button",{onClick:function(){return e.run("warnsdorf")},id:"b3"},"Warnsdorf's Rule"),a.a.createElement("button",{onClick:function(){return e.run()},id:"b3"},"Divide and Conquer"),a.a.createElement("button",{onClick:function(){return e.run()},id:"b3"},"Neural Network Solution"),a.a.createElement("div",null),a.a.createElement("div",null,a.a.createElement("p",{className:"speed-text"},"Speed: ",this.state.speed," ms"),a.a.createElement("input",{name:"speed",onChange:function(t){e.handleChange(t)},type:"range",min:"10",max:"500",value:this.state.speed,className:"slider"})),a.a.createElement("p",{className:"iterations"},"Iterations: ",this.props.iterations)))}}]),t}(r.Component),D=Object(p.b)(function(e){return{lastMove:e.board.lastMove,moves:e.board.moves,curMove:e.board.curMove,board:e.board.board,knight:e.board.knight,iterations:e.board.iterations,speed:e.board.speed}},function(e){return{moveKnight:function(t){return e(function(e){return{type:"MOVE_KNIGHT",knight:e}}(t))},updateBoard:function(t){return e({type:"UPDATE_BOARD",board:t})},runScript:function(){return e({type:"RUN_SCRIPT"})},addMove:function(t){return e(function(e){return{type:"ADD_MOVE",move:e}}(t))},updateCurmove:function(t){return e(function(e){return{type:"UPDATE_CURMOVE",move:e}}(t))},updateLastmove:function(t){return e(function(e){return{type:"UPDATE_LASTMOVE",move:e}}(t))},changeSpeed:function(t){return e(function(e){return{type:"CHANGE_SPEED",speed:e}}(t))},iterate:function(){return e({type:"ITERATE"})}}})(C);var _=function(){return a.a.createElement("div",{className:"app"},a.a.createElement("div",null,a.a.createElement(D,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=n(4),q=n(21),R=n(22),P=Object(A.combineReducers)({board:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SPEED":return Object.assign({},e,{speed:t.speed});case"MOVE_KNIGHT":return Object.assign({},e,{knight:[t.knight[1],t.knight[0]]});case"UPDATE_BOARD":return Object.assign({},e,{board:t.board});case"FAILURE":alert("Failed to converge on a correct solution. Try again.");break;case"RUN_SCRIPT":case"STOP_SCRIPT":return e;case"ITERATE":return Object.assign({},e,{iterations:e.iterations+1});case"ADD_MOVE":return Object.assign({},e,{moves:[].concat(Object(h.a)(e.moves),[t.move])});case"UPDATE_CURMOVE":return Object.assign({},e,{curMove:t.move});case"UPDATE_LASTMOVE":return Object.assign({},e,{lastMove:t.move});default:return console.log("Switch function error in board store"),N}}}),V=Object(R.composeWithDevTools)(Object(A.applyMiddleware)(Object(q.createLogger)({collapsed:!0}))),Q=Object(A.createStore)(P,V);i.a.render(a.a.createElement(p.a,{store:Q},a.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.6f0a56c3.chunk.js.map