(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,n){"use strict";(function(e){var r=n(5),a=n(6),o=[],i=null,u=null,s=null,c=new(function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"getQueue",value:function(){return o}},{key:"enqueue",value:function(e){o.push(e)}},{key:"processQueue",value:function(){var t=o.shift();t&&e(t)}},{key:"initInterval",value:function(e){i=setInterval(this.processQueue,e),this.eraseTicker()}},{key:"eraseTicker",value:function(){u=null,clearInterval(s),s=null}},{key:"startQueueing",value:function(e){this.initInterval(e),this.processQueue()}},{key:"clearQueueInterval",value:function(){clearInterval(i),i=null}},{key:"clear",value:function(){this.clearQueueInterval(),o=[]}},{key:"modulateSpeed",value:function(e){u=u||Date.now(),clearInterval(s),this.initTickInterval(e)}},{key:"initTickInterval",value:function(e){s=setInterval(this.tick.bind(null,e),1)}},{key:"tick",value:function(e){Date.now();u=Date.now(),this.processQueue()}},{key:"changeSpeed",value:function(e){this.clearQueueInterval(),this.eraseTicker(),this.initInterval(e)}}]),t}());t.a=c}).call(this,n(36).setImmediate)},25:function(e,t,n){e.exports=n(39)},30:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(11),i=n.n(o),u=(n(30),n(5)),s=n(6),c=n(23),l=n(18),v=n(9),d=n(24),p=n(13),f=n(22),h={knight:[0,0],moves:[[0,0]],curMove:[0,2],lastMove:[1,0],board:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]],iterations:0,timeout:{},speed:80},m=n(7),b=n.n(m),g=n(12),k=new(function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"findMoves",value:function(e){return[[e[0]-1,e[1]-2],[e[0]-2,e[1]-1],[e[0]+1,e[1]-2],[e[0]+2,e[1]-1],[e[0]-2,e[1]+1],[e[0]-1,e[1]+2],[e[0]+1,e[1]+2],[e[0]+2,e[1]+1]].filter(function(e){return e[0]>=0&&e[1]>=0&&e[0]<12&&e[1]<12})}},{key:"validMove",value:function(e,t){return 1!==e[t[0]][t[1]]}},{key:"boardVisited",value:function(e){return 143===e.length}},{key:"boardVisitedWarnsdorf",value:function(e){return 143===e.length}},{key:"shuffle",value:function(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t;return e}},{key:"numOfEmpty",value:function(e,t){var n=0,r=this.findMoves(t),a=!0,o=!1,i=void 0;try{for(var u,s=r[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var c=u.value;this.validMove(e,c)&&n++}}catch(l){o=!0,i=l}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}return n}},{key:"mapNumToCoords",value:function(e){return[e%12,Math.floor(e/12)]}}]),e}()),y=n(1),E=function(){var e=Object(g.a)(b.a.mark(function e(t,n,r,a,o,i){var u,s,c,l,v,d,p,f,h,m,g,O,M,w,j;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("the board",t),u=[],s=0;s<12;s++)u[s]=t[s].slice();if(!k.boardVisitedWarnsdorf(n)){e.next=6;break}return console.log("board toured"),e.abrupt("return",!0);case 6:for(c=n[n.length-1],0===u[c[0]][c[1]]&&(u[c[0]][c[1]]=1),l=k.findMoves(c),v=[0,0],d=1/0,p=!0,f=!1,h=void 0,e.prev=14,m=l[Symbol.iterator]();!(p=(g=m.next()).done);p=!0)O=g.value,(M=k.numOfEmpty(u,O))<d&&k.validMove(u,O)&&(d=M,v=O);e.next=22;break;case 18:e.prev=18,e.t0=e.catch(14),f=!0,h=e.t0;case 22:e.prev=22,e.prev=23,p||null==m.return||m.return();case 25:if(e.prev=25,!f){e.next=28;break}throw h;case 28:return e.finish(25);case 29:return e.finish(22);case 30:if(void 0===v[0]||void 0===v[1]){e.next=43;break}if(w=v[0],j=v[1],y.a.enqueue(function(){o(v),a(v),r(u),i()}),u[w][j]=1,n.push(v),!E(u,n,r,a,o,i)){e.next=40;break}return e.abrupt("return",!0);case 40:return e.abrupt("return",!1);case 41:e.next=45;break;case 43:return alert("failed to converge on correct solution!"),e.abrupt("return",!1);case 45:case"end":return e.stop()}},e,null,[[14,18,22,30],[23,,25,29]])}));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}(),O=E,M=n(10);function w(e,t,n,r){var a,o,i=[3,7,6,2,7,3,2,6],u=[4,3,7,4,0,7,3,0],s=[[-2,-1],[-1,-2],[1,-2],[2,-1],[2,1],[1,2],[-1,2],[-2,1]];var c=function(e,t){var n=function(e,t){var n=function(e,t){var n,r,a=12,o=12,i=e,u=t,s=8;do{var c=a/2,l=c%2,v=c-l,d=c+l;i<v?(a=v,n=1):(a=d,i-=d,n=2),d=(c=o/2)+(l=c%2),u<(v=c-l)?(o=v,r=1):(o=d,u-=v,r=2),s=1===n&&1===r&&i===a-3&&u===o-1?0:1===n&&1===r&&i===a-1&&u===o-2?1:2===n&&1===r&&1===i&&u===o-3?2:2===n&&1===r&&0===i&&u===o-1?3:2===n&&2===r&&2===i&&0===u?4:2===n&&2===r&&0===i&&1===u?5:1===n&&2===r&&i===a-2&&2===u?6:1===n&&2===r&&i===a-1&&0===u?7:s}while(!(a<=12&&o<=12&&(a<12||o<12)));return[a,o,i,u,s]}(e,t),r=Object(M.a)(n,5),a=r[0],o=r[1],s=r[2],c=r[3],l=r[4],v=a<o;if(v){var d=a;a=o,o=d,d=s,s=c,c=d}var p=[[[4,5],[5,6],[4,7],[4,7],[5,7],[6,7]],[[3,4],[3,6],[0,3],[3,5],[0,6],[0,7]],[[2,5],[1,4],[0,1],[3,4],[2,5],[1,6]],[[2,5],[5,6],[4,7],[0,2],[1,5],[0,6]],[[3,4],[1,4],[4,7],[4,7],[0,2],[1,7]],[[2,3],[1,3],[1,0],[3,0],[0,2],[0,1]]][c][s],f=p[0],h=p[1];if(v&&(f=(9-f)%8,h=(9-h)%8),8!==l){var m=i[l],b=u[l];f===m?f=b:h===m?h=b:console.log("pathOrigin must always be one of next_a_offsetType and next_b_offset")}return[a,o,s,c,l,p,f,h]}(e,t),r=Object(M.a)(n,8),a=(r[0],r[1],r[2],r[3],r[4],r[5],r[6]),o=r[7],c=s[a],l=s[o];return[l,e+c[0],t+c[1],e+l[0],t+l[1]]}(e,t),l=Object(M.a)(c,5),v=(l[0],l[1]),d=l[2],p=l[3],f=l[4];return v===n&&d===r?(a=p,o=f):p===n&&f===r?(a=v,o=d):console.log("Neither of the next pointers match the lastXY (getNextPoint"),console.log("\n","lastX: ",n,"lastY: ",r,"\n"),console.log("\n","nextX: ",a,"nextY: ",o,"\n"),[a,o]}var j=function(){var e=Object(g.a)(b.a.mark(function e(t,n,r,a,o,i,u,s){var c,l,v;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==n[0]||0!==n[1]){e.next=3;break}return console.log("board conquered"),e.abrupt("return");case 3:for(c=[],l=0;l<12;l++)c[l]=t[l].slice();if(c[n[0]][n[1]]=1,v=w(n[0],n[1],r[0],r[1]),0===c[r[0]][r[1]]&&(c[r[0]][r[1]]=1),y.a.enqueue(function(){s(),o(v),a(c)}),c[v[0]][v[1]]=1,!j(c,v,n,a,o,i,u,s)){e.next=14;break}return e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}},e)}));return function(t,n,r,a,o,i,u,s){return e.apply(this,arguments)}}(),T=j,I=function(e){return a.a.createElement("div",{className:e.styling,key:e.serial}," ")},S=function(e,t){var n=[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]],r=[0,0];y.a.startQueueing(80);for(var a=function(a){r[0]=Math.floor(12*Math.random()),r[1]=Math.floor(12*Math.random()),n[Math.floor(12*Math.random())][Math.floor(12*Math.random())]=1;for(var o=[[]],i=0;i<12;i++)o[i]=n[i].slice();var u=r.slice();y.a.enqueue(function(){e(o),t(u)})},o=1;o<1e3;o++)a()},x=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(c.a)(this,Object(l.a)(t).call(this))).state={speed:80,start:[[0,0]],curMove:[2,0],lastMove:[0,1]},e.warnsdorf=O.bind(Object(v.a)(e)),e.divideandconquer=T.bind(Object(v.a)(e)),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){y.a.clearQueueInterval(),y.a.modulateSpeed(e.target.value),this.props.changeSpeed(e.target.value),this.setState({speed:e.target.value}),y.a.changeSpeed(e.target.value)}},{key:"run",value:function(e){y.a.clear();var t=[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]];"warnsdorf"===e?O(t,this.props.moves,this.props.updateBoard,this.props.moveKnight,this.props.addMove,this.props.iterate):T(t,this.props.curMove,this.props.lastMove,this.props.updateBoard,this.props.moveKnight,this.props.updateCurmove,this.props.updateLastmove,this.props.iterate),y.a.startQueueing(this.props.speed)}},{key:"renderSquare",value:function(e){var t,n,r=e%12,o=Math.floor(e/12),i=(r+o)%2===1;return this.props.knight&&(t=this.props.knight[0]===r&&this.props.knight[1]===o),this.props.board&&(n=1===this.props.board[o][r]),t?i?a.a.createElement(I,{serial:e,styling:"black square knight"}):a.a.createElement(I,{serial:e,styling:"white square knight"}):i?n?a.a.createElement(I,{serial:e,styling:"black square visited"}):a.a.createElement(I,{serial:e,styling:"black square"}):n?a.a.createElement(I,{serial:e,styling:"white square visited"}):a.a.createElement(I,{serial:e,styling:"white square"})}},{key:"render",value:function(){for(var e=this,t=[],n=0;n<144;n++)t.push(this.renderSquare(n));return a.a.createElement("div",{id:"main"},a.a.createElement("div",{id:"img"}),a.a.createElement("div",{className:"middle"},a.a.createElement("div",{id:"title"},a.a.createElement("h1",null,"Knight's Tour"),a.a.createElement("p",null,"By ",a.a.createElement("a",{href:"http://matthw.com"},"Matthew Howe"))),a.a.createElement("div",{id:"board"},t)),a.a.createElement("div",{id:"buttons"},a.a.createElement("button",{onClick:function(){return e.run("warnsdorf")},id:"b3"},"Warnsdorf's Rule"),a.a.createElement("button",{onClick:function(){return e.run()},id:"b3"},"Divide and Conquer"),a.a.createElement("button",{onClick:function(){return S(e.props.updateBoard,e.props.moveKnight)},id:"b3"},"Neural Network Solution"),a.a.createElement("div",null),a.a.createElement("div",null,a.a.createElement("p",{className:"speed-text"},"Speed: ",this.state.speed," ms"),a.a.createElement("input",{name:"speed",onChange:function(t){e.handleChange(t)},type:"range",min:"10",max:"500",value:this.state.speed,className:"slider"})),a.a.createElement("p",{className:"iterations"},"Iterations: ",this.props.iterations)))}}]),t}(r.Component),D=Object(p.b)(function(e){return{lastMove:e.board.lastMove,moves:e.board.moves,curMove:e.board.curMove,board:e.board.board,knight:e.board.knight,iterations:e.board.iterations,speed:e.board.speed}},function(e){return{moveKnight:function(t){return e(function(e){return{type:"MOVE_KNIGHT",knight:e}}(t))},updateBoard:function(t){return e({type:"UPDATE_BOARD",board:t})},runScript:function(){return e({type:"RUN_SCRIPT"})},addMove:function(t){return e(function(e){return{type:"ADD_MOVE",move:e}}(t))},updateCurmove:function(t){return e(function(e){return{type:"UPDATE_CURMOVE",move:e}}(t))},updateLastmove:function(t){return e(function(e){return{type:"UPDATE_LASTMOVE",move:e}}(t))},changeSpeed:function(t){return e(function(e){return{type:"CHANGE_SPEED",speed:e}}(t))},iterate:function(){return e({type:"ITERATE"})}}})(x);var _=function(){return a.a.createElement("div",{className:"app"},a.a.createElement("div",null,a.a.createElement(D,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=n(3),A=n(20),N=n(21),q=Object(C.combineReducers)({board:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SPEED":return Object.assign({},e,{speed:t.speed});case"MOVE_KNIGHT":return Object.assign({},e,{knight:[t.knight[1],t.knight[0]]});case"UPDATE_BOARD":return Object.assign({},e,{board:t.board});case"FAILURE":alert("Failed to converge on a correct solution. Try again.");break;case"RUN_SCRIPT":case"STOP_SCRIPT":return e;case"ITERATE":return Object.assign({},e,{iterations:e.iterations+1});case"ADD_MOVE":return Object.assign({},e,{moves:[].concat(Object(f.a)(e.moves),[t.move])});case"UPDATE_CURMOVE":return Object.assign({},e,{curMove:t.move});case"UPDATE_LASTMOVE":return Object.assign({},e,{lastMove:t.move});default:return h}}}),R=Object(N.composeWithDevTools)(Object(C.applyMiddleware)(Object(A.createLogger)({collapsed:!0}))),P=Object(C.createStore)(q,R);i.a.render(a.a.createElement(p.a,{store:P},a.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.f6c8efb0.chunk.js.map